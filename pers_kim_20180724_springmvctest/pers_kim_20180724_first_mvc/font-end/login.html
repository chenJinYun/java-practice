<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="node_modules/jquery/dist/jquery.js"></script>
</head>
<body>
    <div id="register">
        <h3>注册</h3>
        用户名：<input type="text" name="name" class="name">
        密码：<input type="text" name="password" class="password">
        确认密码：<input type="text" name="password1" class="rpassword">
        年龄：<input type="text" name="age" class="age">
        <button class="register">提交</button>
    </div>
    <div id="login">
        <h3>登录</h3>
        用户名：<input type="text" name="name" class="name1">
        密码：<input type="text" name="password" class="password2">
        <button class="login">提交</button>
    </div>
</body>
</html>
<script>
$(function () {
    $("#login").css("display","none")
    //注册
    $(".register").on('click',(e)=>{
        let name=$(".name").val();
        let password=$(".password").val();
        let rpassword=$(".rpassword").val();
        let age=$(".age").val();
        let obj={name,password,rpassword,age};
        $.ajax({
            method:"POST",
            url:"http://localhost:9090/register",
            data:obj,
            success:function (res) {
                if(res=="success"){
                    $("#register").css("display","none")
                    $("#login").css("display","block")

                } else{

                }
            }
        })
    })
//    登录

    $(".login").on('click',(e)=>{
        let name1=$(".name1").val();
        let password2=$(".password2").val();
        let loginObj={name:name1,password:password2};
        $.ajax({
            method:"POST",
            url:"http://localhost:9090/login",
            data:loginObj,
            success:function (res) {
                if(res!="fail"){
                    alert("hello"+res)

                } else{
                    alert("用户名或者密码错误！")
                }
            }
        })
    })
})
</script>